@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model IEnumerable<ASPCore.Models.Film>
@{
ViewData["Title"] = "Index";
}

<h1>Films</h1>
<a asp-action="Create" class="btn btn-secondary">Create a Film</a>
<table class="table">
	<thead>
	<tr>
		<th>Id</th>
		<th>Name</th>
		<th>Author</th>
		<th>Release Date</th>
		<th>Category</th>
		<th>Description</th>
		<th>Star Rating</th>
		<th></th> <!-- For Update and Delete buttons -->
		<th></th>
	</tr>
	</thead>
	<tbody>
	@foreach (var film in Model)
	{
		<tr>
			<td>@film.Id</td>
			<td>@film.Name</td>
			<td>@ViewBag.Authors[film.AuthorId]</td>
			<td>@film.ReleaseDate</td>
			<td>@film.Category</td>
			<td>@film.Description</td>
			<td>@film.AverageStarRating.ToString("F2")</td>
			<td>
				<a class="btn btn-sm btn-primary" asp-action="Update" asp-route-id="@film.Id">
					Update
				</a>
			</td>
			<td>
				<form asp-action="Delete" asp-route-id="@film.Id" method="post">
					<button type="submit" class="btn btn-sm btn-danger">
						Delete
					</button>
				</form>
			</td>
		</tr>
	}
	</tbody>
</table>